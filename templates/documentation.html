<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Technical Documentation - Rainfall Prediction System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
            position: relative;
        }

        .back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: white;
            color: #667eea;
            padding: 10px 20px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
        }

        .back-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 5px 15px;
            border-radius: 20px;
            margin: 5px;
            font-size: 0.9em;
        }

        nav {
            background: #f5f7fa;
            padding: 20px 40px;
            border-bottom: 3px solid #667eea;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav ul {
            list-style: none;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        nav a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            padding: 5px 10px;
            border-radius: 5px;
        }

        nav a:hover {
            background: #667eea;
            color: white;
        }

        .content {
            padding: 40px;
            line-height: 1.8;
        }

        section {
            margin-bottom: 60px;
        }

        h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        h3 {
            color: #764ba2;
            font-size: 1.5em;
            margin: 30px 0 15px 0;
        }

        h4 {
            color: #333;
            font-size: 1.2em;
            margin: 20px 0 10px 0;
        }

        p {
            margin-bottom: 15px;
            color: #444;
        }

        ul, ol {
            margin-left: 30px;
            margin-bottom: 20px;
        }

        li {
            margin-bottom: 10px;
            color: #444;
        }

        code {
            background: #f5f7fa;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #d63384;
        }

        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            line-height: 1.5;
        }

        pre code {
            background: transparent;
            color: #f8f8f2;
            padding: 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        th {
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        td {
            padding: 12px 15px;
            border-bottom: 1px solid #e0e0e0;
        }

        tbody tr:hover {
            background: #f5f7fa;
        }

        .info-box {
            background: linear-gradient(135deg, #e0f7fa 0%, #b2ebf2 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #00acc1;
        }

        .warning-box {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #ff9800;
        }

        .success-box {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #4caf50;
        }

        .architecture-diagram {
            background: #f5f7fa;
            padding: 30px;
            border-radius: 10px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            transition: all 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .feature-icon {
            font-size: 3em;
            margin-bottom: 10px;
        }

        .feature-title {
            font-weight: 600;
            color: #667eea;
            margin-bottom: 10px;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 20px;
            border-radius: 12px;
            text-align: center;
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        footer {
            background: #2d2d2d;
            color: white;
            padding: 30px;
            text-align: center;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 30px;
            border-radius: 8px;
            text-decoration: none;
            display: inline-block;
            margin: 10px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        @media print {
            body {
                background: white;
            }
            .container {
                box-shadow: none;
            }
            nav, .back-btn {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .content {
                padding: 20px;
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            h2 {
                font-size: 1.5em;
            }
            
            nav ul {
                flex-direction: column;
                gap: 10px;
            }
            
            .stats-container, .feature-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="/" class="back-btn">â† Back to App</a>
            <h1>ğŸŒ§ï¸ Rainfall Prediction System</h1>
            <p class="subtitle">Technical Documentation</p>
            <div>
                <span class="badge">Version 1.0</span>
                <span class="badge">Python 3.13</span>
                <span class="badge">TensorFlow 2.20</span>
                <span class="badge">Flask 3.1</span>
            </div>
        </header>

        <nav>
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#architecture">Architecture</a></li>
                <li><a href="#model">Model Integration</a></li>
                <li><a href="#features">Features</a></li>
                <li><a href="#api">API Docs</a></li>
                <li><a href="#deployment">Deployment</a></li>
                <li><a href="#usage">Usage</a></li>
            </ul>
        </nav>

        <div class="content">
            <!-- OVERVIEW -->
            <section id="overview">
                <h2>ğŸ“‹ System Overview</h2>
                
                <p>An AI-powered rainfall prediction system that uses TensorFlow/Keras LSTM model to forecast rainfall based on 19 weather parameters. The system provides real-time predictions with visual charts and multi-level warnings.</p>

                <div class="stats-container">
                    <div class="stat-box">
                        <div class="stat-number">19</div>
                        <div class="stat-label">Weather Parameters</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number">1.9MB</div>
                        <div class="stat-label">Model Size</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number">&lt;1s</div>
                        <div class="stat-label">Prediction Time</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number">100%</div>
                        <div class="stat-label">Uptime</div>
                    </div>
                </div>

                <h3>ğŸ¯ Key Capabilities</h3>
                <ul>
                    <li>âœ… Predicts rainfall in millimeters with LSTM neural network</li>
                    <li>âœ… Stores historical weather data in CSV format</li>
                    <li>âœ… Visual chart representation using Chart.js</li>
                    <li>âœ… Multi-level warning system (Caution/Warning/Severe)</li>
                    <li>âœ… Responsive web interface for desktop and mobile</li>
                    <li>âœ… Cloud-hosted on Render with auto-deployment</li>
                </ul>

                <div class="info-box">
                    <strong>ğŸ“ Live Application:</strong> <a href="https://ict-306.onrender.com" target="_blank">https://ict-306.onrender.com</a><br>
                    <strong>ğŸ’» GitHub Repository:</strong> <a href="https://github.com/diyanashamil/ict-306" target="_blank">github.com/diyanashamil/ict-306</a>
                </div>
            </section>

            <!-- ARCHITECTURE -->
            <section id="architecture">
                <h2>ğŸ—ï¸ System Architecture</h2>

                <div class="architecture-diagram">
<pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     USER BROWSER                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   HTML UI    â”‚â”€â”€â”€â–¶â”‚ JavaScript   â”‚â”€â”€â”€â–¶â”‚  Validation  â”‚  â”‚
â”‚  â”‚ (index.html) â”‚    â”‚ (script.js)  â”‚    â”‚   & Charts   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚ HTTP POST /predict or /save
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              RENDER CLOUD SERVER (Flask App)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  rainfall_prediction.py (Main Backend)                 â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ /save Route  â”‚  â”‚/predict Routeâ”‚  â”‚ Download    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ (Save CSV)   â”‚  â”‚ (ML Model)   â”‚  â”‚ Model from  â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ Google Driveâ”‚ â”‚ â”‚
â”‚  â”‚                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 TENSORFLOW/KERAS MODEL                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  rainfall_model.keras (1.9 MB)                         â”‚ â”‚
â”‚  â”‚  - Downloaded from Google Drive on first startup      â”‚ â”‚
â”‚  â”‚  - 19 input features â†’ LSTM â†’ Rainfall prediction     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</pre>
                </div>

                <h3>ğŸ“ Technology Stack</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Technology</th>
                            <th>Version</th>
                            <th>Purpose</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>Python</td><td>3.13.4</td><td>Backend programming language</td></tr>
                        <tr><td>Flask</td><td>3.1.2</td><td>Web framework</td></tr>
                        <tr><td>TensorFlow</td><td>2.20.0</td><td>Machine learning framework</td></tr>
                        <tr><td>Pandas</td><td>2.3.3</td><td>Data manipulation</td></tr>
                        <tr><td>NumPy</td><td>2.1.0</td><td>Numerical computing</td></tr>
                        <tr><td>Scikit-learn</td><td>1.6.1</td><td>Data preprocessing</td></tr>
                        <tr><td>Gunicorn</td><td>21.2.0</td><td>Production WSGI server</td></tr>
                        <tr><td>Chart.js</td><td>Latest</td><td>Chart visualization</td></tr>
                        <tr><td>Render</td><td>-</td><td>Cloud hosting platform</td></tr>
                    </tbody>
                </table>
            </section>

            <!-- MODEL INTEGRATION -->
            <section id="model">
                <h2>ğŸ¤– Model Integration</h2>

                <h3>Step 1: Model Download (Automatic)</h3>
                <p>On server startup, the system automatically downloads the pre-trained model from Google Drive if it doesn't exist locally.</p>

                <pre><code>def download_model():
    if not os.path.exists('rainfall_model.keras'):
        print("Downloading model from Google Drive...")
        url = f"https://drive.google.com/uc?export=download&id={GDRIVE_FILE_ID}"
        
        # Handle Google Drive virus scan warning
        session = requests.Session()
        response = session.get(url, stream=True)
        
        # Download and save model
        with open(MODEL_PATH, 'wb') as f:
            for chunk in response.iter_content(32768):
                if chunk:
                    f.write(chunk)
        print("Model downloaded successfully!")</code></pre>

                <div class="warning-box">
                    <strong>âš ï¸ Why Google Drive?</strong> GitHub has a 100MB file size limit. The trained model is 1.9MB, which fits under the limit, but we use Google Drive for easier model updates without git commits.
                </div>

                <h3>Step 2: Data Preprocessing</h3>
                <p>User input is transformed into the format expected by the neural network:</p>

                <pre><code># Extract 19 weather features
feature_values = [
    pressure, temperature, potential_temp, dew_point,
    humidity, VPmax, VPact, VPdef, specific_humidity,
    H2O_concentration, air_density, wind_velocity,
    max_wind_velocity, wind_direction, shortwave_radiation,
    PAR, max_PAR, temperature_log, current_rain
]

# Normalize to 0-1 range using MinMaxScaler
scaled_input = scaler.transform([feature_values])

# Create sequence (model expects 19 timesteps)
input_sequence = np.array([scaled_input] * 19)
input_sequence = input_sequence.reshape((1, 19, 19))</code></pre>

                <h3>Step 3: Prediction</h3>
                <pre><code># Model predicts future rainfall
prediction = model.predict(input_sequence)
predicted_rainfall = float(prediction[0][0])  # Result in mm

# Return JSON response
return jsonify({'rainfall_prediction': predicted_rainfall})</code></pre>

                <h3>ğŸ§  Model Architecture</h3>
                <ul>
                    <li><strong>Type:</strong> LSTM (Long Short-Term Memory) Neural Network</li>
                    <li><strong>Input Shape:</strong> (1, 19, 19) = 1 sample Ã— 19 timesteps Ã— 19 features</li>
                    <li><strong>Output:</strong> Single value representing rainfall in millimeters</li>
                    <li><strong>Framework:</strong> TensorFlow/Keras 2.20.0</li>
                    <li><strong>Training Data:</strong> Historical weather dataset</li>
                </ul>
            </section>

            <!-- FEATURES -->
            <section id="features">
                <h2>âœ¨ Features & Enhancements</h2>

                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ¨</div>
                        <div class="feature-title">Modern UI</div>
                        <p>Purple gradient design with responsive layout</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">âœ…</div>
                        <div class="feature-title">Input Validation</div>
                        <p>Real-time validation of all 19 parameters</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“Š</div>
                        <div class="feature-title">Chart Visualization</div>
                        <p>Interactive bar chart with Chart.js</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">âš ï¸</div>
                        <div class="feature-title">Multi-Level Warnings</div>
                        <p>Caution, Warning, and Severe alerts</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ’¾</div>
                        <div class="feature-title">Data Storage</div>
                        <p>CSV storage with pagination view</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸš€</div>
                        <div class="feature-title">Auto Deployment</div>
                        <p>GitHub push triggers Render deployment</p>
                    </div>
                </div>

                <h3>ğŸ“‹ Complete Feature List (30 Enhancements)</h3>
                
                <h4>Core Functionality (5)</h4>
                <table>
                    <thead>
                        <tr><th>#</th><th>Feature</th><th>Description</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>1</td><td>Google Drive Model Hosting</td><td>Auto-downloads model on startup</td></tr>
                        <tr><td>2</td><td>Auto-Download Function</td><td>Handles virus scan warnings</td></tr>
                        <tr><td>3</td><td>Environment Variables</td><td>Port configuration via env vars</td></tr>
                        <tr><td>4</td><td>Production Server</td><td>Gunicorn WSGI for production</td></tr>
                        <tr><td>5</td><td>Render Deployment Config</td><td>YAML configuration file</td></tr>
                    </tbody>
                </table>

                <h4>Frontend Enhancements (5)</h4>
                <table>
                    <thead>
                        <tr><th>#</th><th>Feature</th><th>Description</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>6</td><td>Modern UI Design</td><td>Purple gradient, responsive</td></tr>
                        <tr><td>7</td><td>Grid Layout</td><td>3-column responsive grid</td></tr>
                        <tr><td>8</td><td>Emojis & Icons</td><td>Visual field indicators</td></tr>
                        <tr><td>9</td><td>Loading Spinner</td><td>Shows during API calls</td></tr>
                        <tr><td>10</td><td>Chart.js Integration</td><td>Bar chart visualization</td></tr>
                    </tbody>
                </table>

                <h4>Validation System (5)</h4>
                <table>
                    <thead>
                        <tr><th>#</th><th>Feature</th><th>Description</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>11</td><td>DateTime Validation</td><td>Ensures date/time selection</td></tr>
                        <tr><td>12</td><td>Required Field Check</td><td>Validates all 19 fields</td></tr>
                        <tr><td>13</td><td>Number Type Validation</td><td>Checks numeric inputs</td></tr>
                        <tr><td>14</td><td>Range Validation (Humidity)</td><td>0-100% range check</td></tr>
                        <tr><td>15</td><td>Range Validation (Wind)</td><td>0-360Â° direction check</td></tr>
                    </tbody>
                </table>

                <h4>User Experience (5)</h4>
                <table>
                    <thead>
                        <tr><th>#</th><th>Feature</th><th>Description</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>16</td><td>Focus on Error</td><td>Auto-highlights problematic fields</td></tr>
                        <tr><td>17</td><td>Tiered Warnings</td><td>Caution/Warning/Severe alerts</td></tr>
                        <tr><td>18</td><td>Success Messages</td><td>Green checkmark confirmations</td></tr>
                        <tr><td>19</td><td>Error Handling</td><td>User-friendly error messages</td></tr>
                        <tr><td>20</td><td>Dynamic Chart Colors</td><td>Red/Blue based on severity</td></tr>
                    </tbody>
                </table>

                <h4>Backend & DevOps (10)</h4>
                <table>
                    <thead>
                        <tr><th>#</th><th>Feature</th><th>Description</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>21</td><td>Relative Path Handling</td><td>No hardcoded Windows paths</td></tr>
                        <tr><td>22</td><td>Auto Directory Creation</td><td>Creates data/ folder</td></tr>
                        <tr><td>23</td><td>JSON Error Responses</td><td>Proper API formatting</td></tr>
                        <tr><td>24</td><td>Console Logging</td><td>Debug output</td></tr>
                        <tr><td>25</td><td>Cross-Platform Support</td><td>Win/Mac/Linux compatible</td></tr>
                        <tr><td>26</td><td>Git Ignore Config</td><td>Excludes venv, cache</td></tr>
                        <tr><td>27</td><td>Dependency Pinning</td><td>Exact versions</td></tr>
                        <tr><td>28</td><td>Python 3.13 Compatibility</td><td>Latest TensorFlow</td></tr>
                        <tr><td>29</td><td>Render Auto-Deploy</td><td>GitHub webhooks</td></tr>
                        <tr><td>30</td><td>Free Tier Hosting</td><td>750 hours/month</td></tr>
                    </tbody>
                </table>
            </section>

            <!-- API DOCUMENTATION -->
            <section id="api">
                <h2>ğŸ“¡ API Documentation</h2>

                <h3>1. Save Weather Data</h3>
                <p><strong>Endpoint:</strong> <code>POST /save</code></p>
                <p><strong>Purpose:</strong> Store weather data in CSV file for historical records</p>

                <p><strong>Request Body (JSON):</strong></p>
                <pre><code>{
  "datetime": "2026-02-09T10:00",
  "p": 1013.25,
  "T": 25.5,
  "Tpot": 298.5,
  "Tdew": 18.2,
  "rh": 65.5,
  "VPmax": 31.7,
  "VPact": 20.8,
  "VPdef": 10.9,
  "sh": 13.2,
  "H2OC": 21.1,
  "rho": 1180.5,
  "wv": 4.5,
  "max_wv": 8.2,
  "wd": 180.5,
  "rain": 0.5,
  "SWDR": 450.3,
  "PAR": 920.5,
  "max_PAR": 1250.8,
  "Tlog": 5.7
}</code></pre>

                <p><strong>Response (Success):</strong></p>
                <pre><code>{
  "message": "Data saved successfully!"
}</code></pre>

                <h3>2. Predict Rainfall</h3>
                <p><strong>Endpoint:</strong> <code>POST /predict</code></p>
                <p><strong>Purpose:</strong> Get rainfall prediction from ML model</p>

                <p><strong>Request Body (JSON):</strong></p>
                <pre><code>{
  "p": 1013.25,
  "T": 25.5,
  "Tpot": 298.5,
  "Tdew": 18.2,
  "rh": 65.5,
  "VPmax": 31.7,
  "VPact": 20.8,
  "VPdef": 10.9,
  "sh": 13.2,
  "H2OC": 21.1,
  "rho": 1180.5,
  "wv": 4.5,
  "max_wv": 8.2,
  "wd": 180.5,
  "rain": 0.5,
  "SWDR": 450.3,
  "PAR": 920.5,
  "max_PAR": 1250.8,
  "Tlog": 5.7
}</code></pre>

                <p><strong>Response (Success):</strong></p>
                <pre><code>{
  "rainfall_prediction": 12.45
}</code></pre>

                <h3>3. View Saved Data (Paginated)</h3>
                <p><strong>Endpoint:</strong> <code>GET /api/data?page=1&per_page=10</code></p>
                <p><strong>Purpose:</strong> Retrieve stored weather data with pagination</p>

                <p><strong>Response:</strong></p>
                <pre><code>{
  "data": [...],
  "total": 50,
  "page": 1,
  "per_page": 10,
  "total_pages": 5
}</code></pre>

                <h3>ğŸ“Š Weather Parameters Explained</h3>
                <table>
                    <thead>
                        <tr><th>Parameter</th><th>Symbol</th><th>Unit</th><th>Description</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>Pressure</td><td>p</td><td>hPa</td><td>Atmospheric pressure</td></tr>
                        <tr><td>Temperature</td><td>T</td><td>Â°C</td><td>Air temperature</td></tr>
                        <tr><td>Potential Temp</td><td>Tpot</td><td>K</td><td>Potential temperature</td></tr>
                        <tr><td>Dew Point</td><td>Tdew</td><td>Â°C</td><td>Dew point temperature</td></tr>
                        <tr><td>Humidity</td><td>rh</td><td>%</td><td>Relative humidity</td></tr>
                        <tr><td>Wind Velocity</td><td>wv</td><td>m/s</td><td>Wind speed</td></tr>
                        <tr><td>Wind Direction</td><td>wd</td><td>Â°</td><td>Wind direction (0-360)</td></tr>
                        <tr><td>Shortwave Radiation</td><td>SWDR</td><td>W/mÂ²</td><td>Solar radiation</td></tr>
                        <tr><td>Rain</td><td>rain</td><td>mm</td><td>Current rainfall</td></tr>
                    </tbody>
                </table>
            </section>

            <!-- DEPLOYMENT -->
            <section id="deployment">
                <h2>ğŸš€ Deployment Pipeline</h2>

                <div class="architecture-diagram">
<pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Local Dev       â”‚
â”‚ (MacBook)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ git push
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GitHub Repo     â”‚
â”‚ diyanashamil/   â”‚
â”‚ ict-306         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Webhook
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Render Platform â”‚
â”‚ 1. Clone repo   â”‚
â”‚ 2. Install deps â”‚
â”‚ 3. Download     â”‚
â”‚    model        â”‚
â”‚ 4. Start server â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Live URL        â”‚
â”‚ ict-306.        â”‚
â”‚ onrender.com    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</pre>
                </div>

                <h3>ğŸ”§ Deployment Configuration</h3>
                <p><strong>File:</strong> <code>render.yaml</code></p>
                <pre><code>services:
  - type: web
    name: rainfall-prediction
    runtime: python
    buildCommand: pip install -r requirements.txt
    startCommand: gunicorn rainfall_prediction:app
    envVars:
      - key: PYTHON_VERSION
        value: 3.10.13</code></pre>

                <div class="success-box">
                    <strong>âœ… Automated Deployment:</strong> Every push to the <code>main</code> branch on GitHub automatically triggers a new deployment on Render. The entire process takes 2-3 minutes.
                </div>

                <h3>ğŸ“¦ Local Installation</h3>
                <pre><code># Clone repository
git clone https://github.com/diyanashamil/ict-306.git
cd ict-306

# Create virtual environment
python3 -m venv venv
source venv/bin/activate  # Mac/Linux

# Install dependencies
pip install -r requirements.txt

# Run locally
python rainfall_prediction.py

# Access at http://localhost:5000</code></pre>
            </section>

            <!-- USAGE -->
            <section id="usage">
                <h2>ğŸ“– How to Use</h2>

                <h3>Step-by-Step Guide</h3>
                <ol>
                    <li><strong>Access the Application:</strong> Navigate to <a href="https://ict-306.onrender.com" target="_blank">https://ict-306.onrender.com</a></li>
                    <li><strong>Enter Weather Data:</strong> Fill in all 19 weather parameters with current or forecasted values</li>
                    <li><strong>Validate Input:</strong> System automatically validates all fields before submission</li>
                    <li><strong>Submit Data (Optional):</strong> Click "Submit Data" to store in CSV for historical records</li>
                    <li><strong>Predict Rainfall:</strong> Click "Predict Rainfall" to get AI forecast</li>
                    <li><strong>View Results:</strong> See predicted rainfall amount, chart, and warning level</li>
                    <li><strong>Review History:</strong> Click "View Saved Data" to see paginated historical records</li>
                </ol>

                <h3>âš ï¸ Warning Levels</h3>
                <table>
                    <thead>
                        <tr><th>Rainfall Amount</th><th>Warning Level</th><th>Icon</th><th>Action</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>&gt; 50mm</td><td>SEVERE</td><td>ğŸš¨</td><td>High flood/landslide risk</td></tr>
                        <tr><td>25-50mm</td><td>WARNING</td><td>âš ï¸</td><td>Moderate flood risk, stay alert</td></tr>
                        <tr><td>10-25mm</td><td>CAUTION</td><td>âš¡</td><td>Heavy rainfall expected</td></tr>
                        <tr><td>&lt; 10mm</td><td>Normal</td><td>ğŸŒ§ï¸</td><td>Light to moderate rain</td></tr>
                    </tbody>
                </table>

                <div class="info-box">
                    <strong>ğŸ’¡ Pro Tips:</strong>
                    <ul>
                        <li>Use realistic weather values for accurate predictions</li>
                        <li>Ensure humidity is between 0-100%</li>
                        <li>Wind direction should be 0-360 degrees</li>
                        <li>All fields are required - validation prevents empty submissions</li>
                    </ul>
                </div>
            </section>

            <!-- CSV FILES -->
            <section id="csv">
                <h2>ğŸ“Š CSV Data Storage</h2>

                <h3>File: <code>data/weather_data.csv</code></h3>
                
                <p><strong>Purpose:</strong> Stores historical weather data submitted by users</p>

                <h4>How It Works:</h4>
                <ol>
                    <li>User submits weather data via <code>/save</code> endpoint</li>
                    <li>Data converted to pandas DataFrame</li>
                    <li>Appended to CSV file (creates if doesn't exist)</li>
                    <li>Header row added only for new files</li>
                </ol>

                <h4>CSV Structure:</h4>
                <pre><code>datetime,p,T,Tpot,Tdew,rh,VPmax,VPact,VPdef,sh,H2OC,rho,wv,max_wv,wd,rain,raining,SWDR,PAR,max_PAR,Tlog
2026-02-09 10:00,1013.25,25.5,298.5,18.2,65.5,31.7,20.8,10.9,13.2,21.1,1180.5,4.5,8.2,180.5,0.5,1,450.3,920.5,1250.8,5.7</code></pre>

                <h4>Use Cases:</h4>
                <ul>
                    <li>âœ… Build historical weather dataset</li>
                    <li>âœ… Model retraining with new data</li>
                    <li>âœ… Weather pattern analysis</li>
                    <li>âœ… Audit trail of submissions</li>
                </ul>

                <div class="warning-box">
                    <strong>âš ï¸ Important Note:</strong> The CSV file is for storage only and is NOT used in predictions. The ML model uses live input data for real-time forecasting.
                </div>
            </section>

            <!-- CREDITS -->
            <section id="credits">
                <h2>ğŸ‘¥ Project Information</h2>

                <div class="stats-container">
                    <div class="stat-box">
                        <div class="stat-number">800+</div>
                        <div class="stat-label">Lines of Code</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number">30</div>
                        <div class="stat-label">Features Added</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number">9</div>
                        <div class="stat-label">Technologies Used</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number">24/7</div>
                        <div class="stat-label">Availability</div>
                    </div>
                </div>

                <h3>ğŸ“š Academic Information</h3>
                <ul>
                    <li><strong>Developer:</strong> Diyana</li>
                    <li><strong>Institution:</strong> Murdoch University Singapore</li>
                    <li><strong>Course:</strong> ICT 306 - Machine Learning & AI</li>
                    <li><strong>Framework:</strong> TensorFlow/Keras + Flask</li>
                    <li><strong>Deployment:</strong> February 2026</li>
                </ul>

                <h3>ğŸ”— Links</h3>
                <div style="text-align: center; margin-top: 30px;">
                    <a href="https://ict-306.onrender.com" class="btn-primary" target="_blank">ğŸŒ§ï¸ Live Application</a>
                    <a href="https://github.com/diyanashamil/ict-306" class="btn-primary" target="_blank">ğŸ’» GitHub Repository</a>
                    <a href="/data" class="btn-primary">ğŸ“Š View Saved Data</a>
                </div>
            </section>
        </div>

        <footer>
            <p><strong>Rainfall Prediction System</strong> - Technical Documentation</p>
            <p>Version 1.0 | February 2026 | Murdoch University Singapore</p>
            <p style="margin-top: 10px; opacity: 0.7;">Built with â¤ï¸ using Python, TensorFlow, Flask, and Chart.js</p>
        </footer>
    </div>
</body>
</html>